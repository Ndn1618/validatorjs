!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Validator=t()}(function(){return function i(s,n,a){function u(e,t){if(!n[e]){if(!s[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(o)return o(e,!0);throw(r=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",r}r=n[e]={exports:{}},s[e][0].call(r.exports,function(t){return u(s[e][1][t]||t)},r,r.exports,i,s,n,a)}return n[e].exports}for(var o="function"==typeof require&&require,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,e,r){"use strict";function i(t,e){this.onResolvedAll=e,this.onFailedOne=t,this.resolvers={},this.resolversCount=0,this.passed=[],this.failed=[],this.firing=!1}i.prototype={add:function(t){var e=this.resolversCount;return this.resolvers[e]=t,this.resolversCount++,e},resolve:function(t){t=this.resolvers[t];!0===t.passes?this.passed.push(t):!1===t.passes&&(this.failed.push(t),this.onFailedOne(t)),this.fire()},isAllResolved:function(){return this.passed.length+this.failed.length===this.resolversCount},fire:function(){this.firing&&this.isAllResolved()&&this.onResolvedAll(0===this.failed.length)},enableFiring:function(){this.firing=!0}},e.exports=i},{}],2:[function(t,e,r){"use strict";e.exports={replacements:{between:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{min:r[0],max:r[1]})},digits_between:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{min:r[0],max:r[1]})},required_if:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{other:this._getAttributeName(r[0]),value:r[1]})},required_unless:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{other:this._getAttributeName(r[0]),value:r[1]})},required_with:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{field:this._getAttributeName(r[0])})},required_with_all:function(t,e){var r=e.getParameters(),i=this._getAttributeName.bind(this);return this._replacePlaceholders(e,t,{fields:r.map(i).join(", ")})},required_without:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{field:this._getAttributeName(r[0])})},required_without_all:function(t,e){var r=e.getParameters(),i=this._getAttributeName.bind(this);return this._replacePlaceholders(e,t,{fields:r.map(i).join(", ")})},after:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{after:this._getAttributeName(r[0])})},before:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{before:this._getAttributeName(r[0])})},after_or_equal:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{after_or_equal:this._getAttributeName(r[0])})},before_or_equal:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{before_or_equal:this._getAttributeName(r[0])})},same:function(t,e){var r=e.getParameters();return this._replacePlaceholders(e,t,{same:this._getAttributeName(r[0])})}},formatter:function(t){return t.replace(/[_\[]/g," ").replace(/]/g,"")}}},{}],3:[function(t,e,r){function i(){this.errors={}}i.prototype={constructor:i,add:function(t,e){this.has(t)||(this.errors[t]=[]),-1===this.errors[t].indexOf(e)&&this.errors[t].push(e)},get:function(t){return this.has(t)?this.errors[t]:[]},first:function(t){return!!this.has(t)&&this.errors[t][0]},all:function(){return this.errors},fields:function(){return Object.keys(this.errors)},keys:function(){return Object.keys(this.errors)},has:function(t){return!!this.errors.hasOwnProperty(t)},errorCount:function(){return Object.keys(this.errors).length}},e.exports=i},{}],4:[function(t,e,r){var i=t("./messages");t("./lang/en");var s=t;e.exports={messages:{},_set:function(t,e){this.messages[t]=e},_setRuleMessage:function(t,e,r){this._load(t),void 0===r&&(r=this.messages[t].def),this.messages[t][e]=r},_load:function(t){if(!this.messages[t])try{var e=s("./lang/"+t);this._set(t,e)}catch(t){}},_get:function(t){return this._load(t),this.messages[t]},_make:function(t){return this._load(t),new i(t,this.messages[t])}}},{"./lang/en":5,"./messages":6}],5:[function(t,e,r){e.exports={attributes:{},accepted:"The :attribute must be accepted.",after:"The :attribute must be after :after.",after_or_equal:"The :attribute must be equal or after :after_or_equal.",alpha:"The :attribute field must contain only alphabetic characters.",alpha_dash:"The :attribute field may only contain alpha-numeric characters, as well as dashes and underscores.",alpha_num:"The :attribute field must be alphanumeric.",alpha_numeric:"The :attribute field must be alphanumeric.",array:"The :attribute must be an array",before:"The :attribute must be before :before.",before_or_equal:"The :attribute must be equal or before :before_or_equal.",begins_with:"The :attribute must begin with :value.",between:{numeric:"The :attribute field must be between :min and :max.",string:"The :attribute field must be between :min and :max characters."},confirmed:"The :attribute confirmation does not match.",email:"The :attribute format is invalid.",date:"The :attribute is not a valid date format.",def:"The :attribute attribute has errors.",digits:"The :attribute must be :digits digits.",digits_between:"The :attribute field must be between :min and :max digits.",different:"The :attribute and :different must be different.",ends_with:"The :attribute must end with :ends_with",exclude_if:"The :attribute will be excluded if :exclude_if.",exclude_unless:"The :attribute will be excluded unless :exclude_unless.",filled:"The :attribute must be filled if supplied.",greater_than:{numeric:"The :attribute must be greater than :greater_than.",file:"The :attribute must be greater than :greater_than kilobytes.",string:"The :attribute must be greater than :greater_than.",array:"The :attribute must have more than :greater_than items."},gt:{numeric:"The :attribute must be greater than :gt.",file:"The :attribute must be greater than :gt kilobytes.",string:"The :attribute must be greater than :gt.",array:"The :attribute must have more than :gt items."},greater_than_or_equal:{numeric:"The :attribute must be greater than or equal :greater_than_or_equal.",file:"The :attribute must be greater than or equal :greater_than_or_equal kilobytes.",string:"The :attribute must be greater than or equal :greater_than_or_equal.",array:"The :attribute must have :greater_than_or_equal items or more."},gte:{numeric:"The :attribute must be greater than or equal :gte.",file:"The :attribute must be greater than or equal :gte kilobytes.",string:"The :attribute must be greater than or equal :gte.",array:"The :attribute must have :gte items or more."},in:"The selected :attribute is invalid.",in_array:"The :attribute must be in :in_array.",json:"The :attribute does not contain valid json.",less_than:{numeric:"The :attribute must be less than :less_than.",file:"The :attribute must be less than :less_than kilobytes.",string:"The :attribute must be less than :less_than.",array:"The :attribute must have less than :less_than items."},lt:{numeric:"The :attribute must be less than :lt.",file:"The :attribute must be less than :lt kilobytes.",string:"The :attribute must be less than :lt.",array:"The :attribute must have less than :lt items."},less_than_or_equal:{numeric:"The :attribute must be less than or equal :less_than_or_equal.",file:"The :attribute must be less than or equal :less_than_or_equal kilobytes.",string:"The :attribute must be less than or equal :less_than_or_equal.",array:"The :attribute must not have more than :less_than_or_equal items."},lte:{numeric:"The :attribute must be less than or equal :lte.",file:"The :attribute must be less than or equal :lte kilobytes.",string:"The :attribute must be less than or equal :lte characters.",array:"The :attribute must not have more than :lte items."},integer:"The :attribute must be an integer.",hex:"The :attribute field should have hexadecimal format",min:{numeric:"The :attribute must be at least :min.",string:"The :attribute must be at least :min characters."},max:{numeric:"The :attribute may not be greater than :max.",string:"The :attribute may not be greater than :max characters."},multiple_of:"The :attribute is not multiple of :multiple_of",not_in:"The selected :attribute is invalid.",nullable:"the :attribute is nullable.",numeric:"The :attribute must be a number.",object:"The :attribute must be an object",present:"The :attribute field must be present (but can be empty).",required:"The :attribute field is required.",required_if:"The :attribute field is required when :other is :value.",required_unless:"The :attribute field is required when :other is not :value.",required_with:"The :attribute field is required when :field is not empty.",required_with_all:"The :attribute field is required when :fields are not empty.",required_without:"The :attribute field is required when :field is empty.",required_without_all:"The :attribute field is required when :fields are empty.",same:"The :attribute and :same fields must match.",size:{numeric:"The :attribute must be :size.",string:"The :attribute must be :size characters."},starts_with:"The :attribute must start with :value.",string:"The :attribute must be a string.",uuid:"The :attribute must be a valid v1 or v4 uuid",url:"The :attribute format is invalid.",regex:"The :attribute format is invalid.",not_regex:"The :attribute format is must not match regex."}},{}],6:[function(t,e,r){t("./attributes");var i=t("./attributes"),t=function(t,e){this.lang=t,this.messages=e,this.customMessages={},this.attributeNames={}};t.prototype={constructor:t,_setCustom:function(t){this.customMessages=t||{}},_setAttributeNames:function(t){this.attributeNames=t},_setAttributeFormatter:function(t){this.attributeFormatter=t},_getAttributeName:function(t){var e=t;return this.attributeNames&&this.attributeNames.hasOwnProperty(t)?this.attributeNames[t]:(this.messages&&this.messages.attributes.hasOwnProperty(t)&&(e=this.messages.attributes[t]),this.attributeFormatter?this.attributeFormatter(e):e)},all:function(){return this.messages},render:function(t,e={}){if(t.customMessage)return t.customMessage;var r=this._getTemplate(t),e=i.replacements[t.name]?i.replacements[t.name].apply(this,[r,t]):this._replacePlaceholders(t,r,{},e);return e},_getTemplate:function(t){for(var e,r=this.messages,i=r.def,s=this.customMessages,n=[t.name+"."+t.attribute,t.name],a=0;a<n.length;a++){if(s.hasOwnProperty(e=n[a])){i=s[e];break}if(r.hasOwnProperty(e)){i=r[e];break}}return i="object"==typeof i?i[t._getValueType()]:i},_replacePlaceholders:function(t,e,r,i={}){var s,n;if(r.attribute=this._getAttributeName(t.attribute),r[t.name]=r[t.name]||t.getParameters().join(","),"string"==typeof e&&"object"==typeof r)for(n in s=e,r)[n,this._ucfirst(n),n&&n.toLocaleUpperCase()].forEach(t=>{s=(s=s.replace(new RegExp(":"+t,"g"),r[n])).replace(new RegExp(":"+this._ucfirst(t),"g"),this._ucfirst(r[n])),r[n]&&(s=s.replace(new RegExp(":"+t.toLocaleUpperCase(),"g"),r[n].toLocaleUpperCase()))}),s=i.hasOwnProperty(r[n])?s.replace(r[n],i[r[n]]):s;return s},_ucfirst:t=>{if("string"==typeof t)return t.charAt(0).toLocaleUpperCase()+t.substring(1)},_titlecase:t=>{if(t){t=t.toLowerCase().split(" ");for(var e=0;e<t.length;e++)t[e]=t[e].charAt(0).toUpperCase()+t[e].slice(1);return t.join(" ")}return t}},e.exports=t},{"./attributes":2}],7:[function(t,e,r){function i(t){if("number"==typeof t&&"object"==typeof(i=new Date(t)))return!0;if("object"==typeof(i=new Date(t)))return"Invalid Date"!==i.toString()&&!!function(t=""){if(10!==(t=t||"").length)return 1;var e=t.replace(".","-").replace("/","-").split("-");if(3===e.length&&4===e[0].length){var r=parseInt(e[0]),t=parseInt(e[1]),e=parseInt(e[2]);if(2===t)if((r=r)%4==0&&r%100!=0||r%400==0){if(29<e)return}else if(28<e)return;if((4===t||6===t||9===t||11===t)&&30<e)return}return 1}(t);if(!/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(t))return!1;var e=t.split("-"),r=parseInt(e[2],10),i=parseInt(e[1],10),t=parseInt(e[0],10);if(t<1e3||3e3<t||0==i||12<i)return!1;e=[31,28,31,30,31,30,31,31,30,31,30,31];return(t%400==0||t%100!=0&&t%4==0)&&(e[1]=29),0<r&&r<=e[i-1]}var s,n={required:function(t){return null!=t&&0<String(t).replace(/\s/g,"").length},required_if:function(t,e,r){return!(e=this.getParameters()).splice(1,e.length-1).includes(this.validator._objectPath(this.validator.input,e[0]))||this.validator.getRule("required").validate(t,e,r)},exclude_if:function(t,e,r){return 1<=(e=this.getParameters()).length&&this.validator.input[e[0]]===e[1]},exclude_unless:function(t){if(req=this.getParameters(),1<=req.length)return req[1]!==this.validator.input[req[0]]},filled:function(t,e,r){return 0<t.length},bail:function(t,e,r){return!0},required_unless:function(t,e,r){return e=this.getParameters(),this.validator._objectPath(this.validator.input,e[0])===e[1]||this.validator.getRule("required").validate(t,e,r)},required_with:function(e,t,r){var i=t.split(",");if(0<i.length){var s=0;return i.forEach(t=>{this.validator.getRule("required").validate(e,t,r)||s++}),0===s}return!this.validator._objectPath(this.validator.input,t)||this.validator.getRule("required").validate(e,t,r)},required_with_all:function(t,e,r){e=this.getParameters();for(var i=0;i<e.length;i++)if(!this.validator._objectPath(this.validator.input,e[i]))return!0;return this.validator.getRule("required").validate(t,e,r)},required_without:function(t,e,r){return!!this.validator._objectPath(this.validator.input,e)||this.validator.getRule("required").validate(t,e,r)},required_without_all:function(t,e,r){e=this.getParameters();for(var i=0;i<e.length;i++)if(this.validator._objectPath(this.validator.input,e[i]))return!0;return this.validator.getRule("required").validate(t,e,r)},boolean:function(t){return!0===t||!1===t||0===t||1===t||"0"===t||"1"===t||"true"===t||"false"===t},size:function(t,e,r){return!t||(e=parseFloat(e),this.getSize()===e)},string:function(t,e,r){return"string"==typeof t},sometimes:function(t){return!0},starts_with:function(t,e,r){return t.startsWith(e)},begins_with:function(t,e,r){return t.startsWith(e)},ends_with:function(t,e,r){return t.endsWith(e)},min:function(t,e,r){return e<=this.getSize()},max:function(t,e,r){return this.getSize()<=e},between:function(t,e,r){e=this.getParameters();var i=this.getSize(),s=parseFloat(e[0],10),e=parseFloat(e[1],10);return s<=i&&i<=e},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,e=(e=!e.test(t)?/^((?:[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]|[^\u0000-\u007F])+@(?:[a-zA-Z0-9]|[^\u0000-\u007F])(?:(?:[a-zA-Z0-9-]|[^\u0000-\u007F]){0,61}(?:[a-zA-Z0-9]|[^\u0000-\u007F]))?(?:\.(?:[a-zA-Z0-9]|[^\u0000-\u007F])(?:(?:[a-zA-Z0-9-]|[^\u0000-\u007F]){0,61}(?:[a-zA-Z0-9]|[^\u0000-\u007F]))?)+)*$/:e).test(t);return e=e?0<(t=t.split("@")).length&&!t[0].endsWith("."):e},numeric:function(t){var e=Number(t);return"number"==typeof e&&!isNaN(e)&&"boolean"!=typeof t},array:function(t){return t instanceof Array},object:function(t){return t instanceof Object},url:function(t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-z]{2,63}|(localhost)\b([-a-zA-Z0-9@:%_\+.~#?&\/=]*)/i.test(t)},uuid:function(t,e,r){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)},alpha:function(t){return/^[a-zA-Z]+$/.test(t)},alpha_dash:function(t){return/^[a-zA-Z0-9_\-]+$/.test(t)},alpha_num:function(t){return/^[a-zA-Z0-9]+$/.test(t)},alpha_numeric:function(t){return/^[a-zA-Z0-9]+$/.test(t)},same:function(t,e){return this.validator._flattenObject(this.validator.input)[e]===t},different:function(t,e){return this.validator._flattenObject(this.validator.input)[e]!==t},in:function(t,e){var r;if(t&&(r=this.getParameters()),t&&!(t instanceof Array)){for(var i=t,s=0;s<r.length;s++)if((i="string"==typeof r[s]?String(t):i)===r[s])return!0;return!1}if(t&&t instanceof Array)for(s=0;s<t.length;s++)if(r.indexOf(t[s])<0)return!1;return!0},in_array:function(t,e,r){if(void 0===e)return!0;var i=e.replace(/["'\[\]]/g,"").replace(/[|]/g,",").split(/, ?/);if("string"!=typeof t)return(i=i.map(t=>parseInt(t))).includes(t);var[,e]=e.split(":");if("true"===e)return i.includes(t);var s;return-1!==(s=t,i.findIndex(t=>s.toLowerCase()===t.toLowerCase()))},json:function(t,e){try{JSON.parse(t)}catch(t){return!1}return!0},multiple_of:function(t,e){return e%t==0},not_in:function(t,e){for(var r=this.getParameters(),i=r.length,s=!0,n=0;n<i;n++){var a=t;if((a="string"==typeof r[n]?String(t):a)===r[n]){s=!1;break}}return s},accepted:function(t){return"on"===t||"yes"===t||1===t||"1"===t||!0===t},confirmed:function(t,e,r){return this.validator.input[r+"_confirmation"]===t},distinct:function(t,e){return[...new Set(t)].length===t.length},integer:function(t){return String(parseInt(t,10))===String(t)},nullable:function(t=null){return null===t},digits:function(t,e,r){var i=this.validator.getRule("numeric");return"number"==typeof t?i.validate(t,e,r):!(!i.validate(t,e,r)||String(t.trim()).length!==parseInt(e))},digits_between:function(t,e,r){var i=this.validator.getRule("numeric"),s=this.getParameters(),n=String(t).length,a=parseFloat(s[0],10),u=parseFloat(s[1],10);return!!(i.validate(t,s,r)&&a<=n&&n<=u)},regex:function(t,e){var r=/[g|i|m]{1,3}$/,i=(i=e.match(r))?i[0]:"";return e=e.replace(r,"").slice(1,-1),!!(e=new RegExp(e,i)).test(t)},not_regex:function(t,e){var r=/[g|i|m]{1,3}$/,i=(i=e.match(r))?i[0]:"";return e=e.replace(r,"").slice(1,-1),!!(e=new RegExp(e,i)).test(t)},date:i,present:function(t){return void 0!==t},after:function(t,e){e=this.validator.input[e];return!!i(e)&&(!!i(t)&&new Date(e).getTime()<new Date(t).getTime())},after_or_equal:function(t,e){e=this.validator.input[e];return!!i(e)&&(!!i(t)&&new Date(e).getTime()<=new Date(t).getTime())},before:function(t,e){e=this.validator.input[e];return!!i(e)&&(!!i(t)&&new Date(e).getTime()>new Date(t).getTime())},before_or_equal:function(t,e){e=this.validator.input[e];return!!i(e)&&(!!i(t)&&new Date(e).getTime()>=new Date(t).getTime())},greater_than:function(t,e){return e<t},gt:function(t,e){return e<t},greater_than_or_equal:function(t,e){return e<=t},gte:function(t,e){return e<=t},less_than:function(t,e){return t<e},lt:function(t,e){return t<e},less_than_or_equal:function(t,e){return t<=e},lte:function(t,e){return t<=e},hex:function(t){return/^[0-9a-f]+$/i.test(t)},ipv4:function(t,e,r){if("string"!=typeof t)return!1;var i=/^[0-9]+$/;if(octets=t.split("."),4!=octets.length)return!1;for(var s=0;s<octets.length;s++){var n=octets[s];if(!i.test(n))return!1;if(256<=parseInt(n))return!1}return!0},ipv6:function(t,e,r){if("string"!=typeof t)return!1;var i=/^[0-9a-f]+$/;if(hextets=t.split(":"),colons=t.match(/::/),null!=colons&&1<t.match(/::/g).length)return!1;if(":"==t[0]&&(null==colons||null!=colons&&0!=colons.index))return!1;if(":"==t[t.length-1]&&(null==colons||null!=colons&&colons.index!=t.length-2))return!1;if(hextets.length<3)return!1;t=9==hextets.length&&null!=colons&&(0==colons.index||colons.index==t.length-2);if(8<hextets.length&&!t)return!1;if(8!=hextets.length&&null==colons)return!1;for(var s=0;s<hextets.length;s++){var n=hextets[s];if(0!=n.length){if(!i.test(n))return!1;if(4<n.length)return!1}}return!0},ip:function(t,e,r){return n.ipv4(t,e,r)||n.ipv6(t,e,r)}},a=function(){throw new Error("Validator `"+this.name+"` is not defined!")};function u(t,e,r){this.name=t,this.fn=e,this.passes=null,this._customMessage=void 0,this.async=r}u.prototype={validate:function(t,e,r,i){var s=this;if(this._setValidatingData(r,t,e),"function"!=typeof i)return this._apply(t,e,r);this.callback=i;i=function(t,e){s.response(t,e)};return this.async?this._apply(t,e,r,i):i(this._apply(t,e,r))},_apply:function(t,e,r,i){return(this.isMissed()?a:this.fn).apply(this,[t,e,r,i])},_setValidatingData:function(t,e,r){this.attribute=t,this.inputValue=e,this.ruleValue=r},getParameters:function(){var t=[];return"string"==typeof this.ruleValue&&(t=this.ruleValue.split(",")),"number"==typeof this.ruleValue&&t.push(this.ruleValue),t=this.ruleValue instanceof Array?this.ruleValue:t},getSize:function(){var t=this.inputValue;return t instanceof Array?t.length:"number"==typeof t?t:this.validator._hasNumericRule(this.attribute)?parseFloat(t,10):t.length},_getValueType:function(){return"number"==typeof this.inputValue||this.validator._hasNumericRule(this.attribute)?"numeric":"string"},response:function(t,e){this.passes=void 0===t||!0===t,this._customMessage=e,this.callback(this.passes,e)},setValidator:function(t){this.validator=t},isMissed:function(){return"function"!=typeof this.fn},get customMessage(){return this.isMissed()?s:this._customMessage}},e.exports={asyncRules:[],implicitRules:["required","required_if","required_unless","required_with","required_with_all","required_without","required_without_all","accepted","present"],make:function(t,e){var r=this.isAsync(t),r=new u(t,n[t],r);return r.setValidator(e),r},isAsync:function(t){for(var e=0,r=this.asyncRules.length;e<r;e++)if(this.asyncRules[e]===t)return!0;return!1},isImplicit:function(t){return-1<this.implicitRules.indexOf(t)},register:function(t,e){n[t]=e},registerImplicit:function(t,e){this.register(t,e),this.implicitRules.push(t)},registerAsync:function(t,e){this.register(t,e),this.asyncRules.push(t)},registerAsyncImplicit:function(t,e){this.registerImplicit(t,e),this.asyncRules.push(t)},registerMissedRuleValidator:function(t,e){a=t,s=e}}},{}],8:[function(t,e,r){function i(){this.successes={}}i.prototype={constructor:i,add:function(t,e){this.has(t)||(this.successes[t]=[]),-1===this.successes[t].indexOf(e)&&this.successes[t].push(e)},get:function(t){return this.has(t)?this.successes[t]:[]},first:function(t){return!!this.has(t)&&this.successes[t][0]},all:function(){return this.successes},fields:function(){return Object.keys(this.successes)},keys:function(){return Object.keys(this.successes)},has:function(t){return!!this.successes.hasOwnProperty(t)},successCount:function(){return Object.keys(this.successes).length}},e.exports=i},{}],9:[function(t,e,r){var n=t("./lang"),o=t("./rules"),a=t("./errors"),u=t("./success"),c=t("./async"),t=t("./attributes"),l=function(t,e,r,i=null,s={}){i=i||l.getDefaultLang();this.input=t||{},this.aliases=s||{},this.messages=n._make(i),this.messages._setCustom(r),this.setAttributeFormatter(l.prototype.attributeFormatter),this.errors=new a,this.errorCount=0,this.successes=new u,this.successCount=0,this.hasAsync=!1,this.rules=this._parseRules(e)};l.prototype={constructor:l,lang:"en",numericRules:["integer","numeric"],attributeFormatter:t.formatter,check:function(){for(var t in this.rules){var e=this.rules[t],r=this._objectPath(this.input,t);if(!this._hasRule(t,["sometimes"])||this._suppliedWithData(t))for(var i,s,n=0,a=e.length;n<a;n++)if(s=e[n],i=this.getRule(s.name),this._isValidatable(i,r)){var u=[];if(e.forEach(t=>u.push(t.name)),s=i.validate(r,s.value,t))this._addSuccess(i);else if(this._addFailure(i),u.includes("bail"))break;if(this._shouldStopValidating(t,s))break}}return 0===this.errorCount},checkAsync:function(e,r){var i=this;e=e||function(){},r=r||function(){};var t,n=new c(function(t,e){i._addFailure(t,e)},function(t){(t?e:r)()});for(t in this.rules){var s=this.rules[t],a=this._objectPath(this.input,t);if(!this._hasRule(t,["sometimes"])||this._suppliedWithData(t))for(var u,o,l=0,h=s.length;l<h;l++)o=s[l],u=this.getRule(o.name),this._isValidatable(u,a)&&function(e,r,i,s){return function(){var t=n.add(s);s.validate(e,r.value,i,function(){n.resolve(t)})}}(a,o,t,u)()}n.enableFiring(),n.fire()},_addFailure:function(t){var e=this.messages.render(t,this.aliases);this.errors.add(t.attribute,e),this.errorCount++},_addSuccess:function(t){var e=this.messages.render(t,this.aliases);this.successes.add(t.attribute,e),this.successCount++},_flattenObject:function(t){var n={};return t&&function t(e,r){if(r||0!==Object.getOwnPropertyNames(e).length)if(Object(e)!==e||Array.isArray(e))n[r]=e;else{var i,s=!0;for(i in e)s=!1,t(e[i],r?r+"."+i:i);s&&(n[r]={})}}(t),n},_objectPath:function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];var r,i=e.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),s={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r]);for(var n=0,a=i.length;n<a;n++){if("object"!=typeof s||null===s||!Object.hasOwnProperty.call(s,i[n]))return;s=s[i[n]]}return s},_parseRules:function(t){var e,r={};for(e in t=this._flattenObject(t)){var i=t[e];this._parseRulesCheck(e,i,r)}return r},_parseRulesCheck:function(t,e,r,i){-1<t.indexOf("*")?this._parsedRulesRecurse(t,e,r,i):this._parseRulesDefault(t,e,r,i)},_parsedRulesRecurse:function(t,e,r,i){var s=t.substr(0,t.indexOf("*")-1),n=this._objectPath(this.input,s);if(n)for(var a=0;a<n.length;a++){var u=i?i.slice():[];u.push(a),this._parseRulesCheck(t.replace("*",a),e,r,u)}},_parseRulesDefault:function(t,e,r,i){for(var s,n=[],a=0,u=(e="string"==typeof(e=e instanceof Array?this._prepareRulesArray(e):e)?e.split("|"):e).length;a<u;a++)(s="string"==typeof e[a]?this._extractRuleAndRuleValue(e[a]):e[a]).value&&(s.value=this._replaceWildCards(s.value,i),this._replaceWildCardsMessages(i)),o.isAsync(s.name)&&(this.hasAsync=!0),n.push(s);r[t]=n},_replaceWildCards:function(t,e){if(!e)return t;var r=t;return e.forEach(function(t){var e=(r=Array.isArray(r)?r[0]:r).indexOf("*");if(-1===e)return r;r=r.substr(0,e)+t+r.substr(e+1)}),Array.isArray(t)&&(t[0]=r,r=t),r},_replaceWildCardsMessages:function(r){var i=this.messages.customMessages,s=this;Object.keys(i).forEach(function(t){var e;r&&(e=s._replaceWildCards(t,r),i[e]=i[t])}),this.messages._setCustom(i)},_prepareRulesArray:function(t){for(var e=[],r=0,i=t.length;r<i;r++)if("object"==typeof t[r])for(var s in t[r])e.push({name:s,value:t[r][s]});else e.push(t[r]);return e},_suppliedWithData:function(t){return this.input.hasOwnProperty(t)},_extractRuleAndRuleValue:function(t){var e={};return 0<=(e.name=t).indexOf(":")&&(t=t.split(":"),e.name=t[0],e.value=t.slice(1).join(":")),e},_hasRule:function(t,e){for(var r=this.rules[t]||[],i=0,s=r.length;i<s;i++)if(-1<e.indexOf(r[i].name))return!0;return!1},_hasNumericRule:function(t){return this._hasRule(t,this.numericRules)},_isValidatable:function(t,e){return!!Array.isArray(e)||(!!o.isImplicit(t.name)||this.getRule("required").validate(e))},_shouldStopValidating:function(t,e){var r=this.stopOnAttributes;return void 0!==r&&!1!==r&&!0!==e&&(!(r instanceof Array)||-1<r.indexOf(t))},setAttributeNames:function(t){this.messages._setAttributeNames(t)},setAttributeFormatter:function(t){this.messages._setAttributeFormatter(t)},getRule:function(t){return o.make(t,this)},stopOnError:function(t){this.stopOnAttributes=t},passes:function(t){return this._checkAsync("passes",t)?this.checkAsync(t):this.check()},fails:function(t){return this._checkAsync("fails",t)?this.checkAsync(function(){},t):!this.check()},_checkAsync:function(t,e){e="function"==typeof e;if(this.hasAsync&&!e)throw t+" expects a callback when async rules are being tested.";return this.hasAsync||e}},l.setMessages=function(t,e){return n._set(t,e),this},l.getMessages=function(t){return n._get(t)},l.useLang=function(t="en"){this.prototype.lang=t},l.resetLang=function(){this.prototype.lang="en"},l.useDefaultLang=function(){this.prototype.lang="en"},l.getDefaultLang=function(){return this.prototype.lang},l.setAttributeFormatter=function(t){this.prototype.attributeFormatter=t},l.stopOnError=function(t){this.prototype.stopOnAttributes=t},l.register=function(t,e,r,i){var s=l.getDefaultLang();o.register(t,e),n._setRuleMessage(s,t,r)},l.registerImplicit=function(t,e,r,i){var s=l.getDefaultLang();o.registerImplicit(t,e),n._setRuleMessage(s,t,r)},l.registerAsync=function(t,e,r,i){var s=l.getDefaultLang();o.registerAsync(t,e),n._setRuleMessage(s,t,r)},l.registerAsyncImplicit=function(t,e,r){var i=l.getDefaultLang();o.registerAsyncImplicit(t,e),n._setRuleMessage(i,t,r)},l.registerMissedRuleValidator=function(t,e){o.registerMissedRuleValidator(t,e)},e.exports=l},{"./async":1,"./attributes":2,"./errors":3,"./lang":4,"./rules":7,"./success":8}]},{},[9])(9)});